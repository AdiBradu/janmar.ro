{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Adrian Bradu/Desktop/React/janmar/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Adrian Bradu/Desktop/React/janmar/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Adrian Bradu/Desktop/React/janmar/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import'./newsform.component.scss';import{ReactComponent as Send}from\"@svgr/webpack?-svgo,+titleProp,+ref!./send.svg\";import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Newsform(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),status=_useState4[0],setStatus=_useState4[1];var handleSend=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setStatus('Multumim pentru abonare!');_context.prev=1;_context.next=4;return axios.post('/newsletter',{email:email});case 4:response=_context.sent;console.log(\"Request back\",response);_context.next=13;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.error(_context.t0.code);console.error(_context.t0.message);console.error(_context.t0.stack);case 13:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function handleSend(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"news-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"news-form-body\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"email\",onChange:function onChange(event){return setEmail(event.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"send-btn\",onClick:function onClick(event){event.preventDefault();handleSend();},children:/*#__PURE__*/_jsx(Send,{})})]}),/*#__PURE__*/_jsx(\"div\",{children:status})]});}","map":{"version":3,"sources":["C:/Users/Adrian Bradu/Desktop/React/janmar/src/components/NewsForm/newsform.component.jsx"],"names":["React","useState","axios","Newsform","props","email","setEmail","status","setStatus","handleSend","post","response","console","log","error","code","message","stack","event","target","value","preventDefault"],"mappings":"oXAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAO,2BAAP,C,mFAEA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,cAAe,SAASC,CAAAA,QAAT,CAAkBC,KAAlB,CAAyB,eAERH,QAAQ,CAAC,EAAD,CAFA,wCAE5BI,KAF4B,eAErBC,QAFqB,8BAGNL,QAAQ,CAAC,EAAD,CAHF,yCAG5BM,MAH4B,eAGpBC,SAHoB,eAKpC,GAAMC,CAAAA,UAAU,0FAAG,gJACfD,SAAS,CAAC,0BAAD,CAAT,CADe,sCAGYN,CAAAA,KAAK,CAACQ,IAAN,CAAW,aAAX,CAA0B,CAC7CL,KAAK,CAALA,KAD6C,CAA1B,CAHZ,QAGLM,QAHK,eAMXC,OAAO,CAACC,GAAR,CAAY,cAAZ,CAA4BF,QAA5B,EANW,+EAQXC,OAAO,CAACE,KAAR,CAAc,YAAMC,IAApB,EACAH,OAAO,CAACE,KAAR,CAAc,YAAME,OAApB,EACAJ,OAAO,CAACE,KAAR,CAAc,YAAMG,KAApB,EAVW,oEAAH,kBAAVR,CAAAA,UAAU,0CAAhB,CAcA,mBACI,aAAK,SAAS,CAAC,WAAf,wBACI,aAAK,SAAS,CAAC,gBAAf,wBACI,cAAO,WAAW,CAAC,OAAnB,CAA2B,QAAQ,CAAE,kBAACS,KAAD,QAAWZ,CAAAA,QAAQ,CAACY,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAnB,EAArC,EADJ,cAEI,eACA,IAAI,CAAC,QADL,CAEA,SAAS,CAAC,UAFV,CAGA,OAAO,CAAE,iBAACF,KAAD,CAAW,CAChBA,KAAK,CAACG,cAAN,GACAZ,UAAU,GACb,CAND,uBASI,KAAC,IAAD,IATJ,EAFJ,GADJ,cAeI,qBAAMF,MAAN,EAfJ,GADJ,CAmBH","sourcesContent":["import React, {useState} from 'react'\r\nimport './newsform.component.scss'\r\nimport { ReactComponent as Send } from './send.svg';\r\nimport axios from 'axios'\r\n\r\nexport default function Newsform(props) {\r\n\r\n    const [ email, setEmail ] = useState(\"\")\r\n    const [ status, setStatus ] = useState(\"\")\r\n\r\n    const handleSend = async() => {\r\n        setStatus('Multumim pentru abonare!')\r\n        try {\r\n            const response = await axios.post('/newsletter', {\r\n                email\r\n            })\r\n            console.log(\"Request back\", response)\r\n        } catch (error) {\r\n            console.error(error.code);\r\n            console.error(error.message);\r\n            console.error(error.stack);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"news-form\">\r\n            <div className=\"news-form-body\">\r\n                <input placeholder=\"email\" onChange={(event) => setEmail(event.target.value)}></input>\r\n                <button \r\n                type=\"submit\" \r\n                className=\"send-btn\"\r\n                onClick={(event) => {\r\n                    event.preventDefault()\r\n                    handleSend()\r\n                }\r\n                }\r\n                >\r\n                    <Send />\r\n                </button>\r\n            </div>\r\n            <div>{status}</div>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}